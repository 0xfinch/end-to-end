<!DOCTYPE html><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>TransferableKey</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><div><form><div><input type="search" placeholder="Search"></div></form></div></header><main><article><div class="parentlink"><b>Namespace:</b> <a href="namespace_e2e_openpgp_block.html">e2e.openpgp.block</a></div><div class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/block/transferablekey.js.src.html#l60">View Source</a></div><h1>class TransferableKey</h1><pre class="inheritance"><a href="class_e2e_openpgp_block_Block.html">e2e.openpgp.block.Block</a>
  &#x2514; e2e.openpgp.block.TransferableKey</pre><p>Representation of a transferable key block. According to the OpenPGP RFC (RFC 4880) Section 11.1/2, a transferable key block is represented as:  - One Public-Key or Secret-Key packet  - Zero or more revocation signatures  - One or more User ID packets  - After each User ID packet, zero or more Signature packets  (certifications)  - Zero or more User Attribute packets  - After each User Attribute packet, zero or more Signature packets  (certifications)  - Zero or more Subkey packets  - After each Subkey packet, one Signature packet, plus optionally a  revocation</p><h2 class="main">new TransferableKey(<wbr>keyPacketClass)</h2><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>keyPacketClass<code>function(new: <a href="class_e2e_openpgp_packet_Key.html">e2e.openpgp.packet.Key</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, <a href="interface_e2e_cipher_Cipher.html">e2e.cipher.Cipher</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;): ?</code><dd><p>The  class of key packet to parse.</p></dl></div></div><h2>Instance Methods</h2><div id="getKeyById" class="function"><div><h3>getKeyById(<wbr>keyId)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/block/transferablekey.js.src.html#l306">code »</a></span></h3><p>Returns a key or one of the subkeys of a given key ID.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>keyId<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;</code><dd><p>Key ID to find the key by.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_e2e_openpgp_packet_Key.html">e2e.openpgp.packet.Key</a></code><dd><p>Found key</p></dl></div></div></div></div><hr class="fn-sep"><div id="getKeyTo" class="function"><div><h3><code>&lt;T&gt;</code> getKeyTo(<wbr>use, type)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/block/transferablekey.js.src.html#l245">code »</a></span></h3><p>Chooses a key packet for the specified use.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>use<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The use of the key.</p><dt>type<code>function(new: T, ...?): ?</code><dd><p>The constructor of the key to get.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>T</code><dd><p>A key packet of the specified type.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getKeyToEncrypt" class="function"><div><h3>getKeyToEncrypt()<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/block/transferablekey.js.src.html#l282">code »</a></span></h3><p>Chooses a key packet for encryption.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_e2e_openpgp_packet_PublicKey.html">e2e.openpgp.packet.PublicKey</a></code></dl></div></div></div></div><hr class="fn-sep"><div id="getKeyToSign" class="function"><div><h3>getKeyToSign()<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/block/transferablekey.js.src.html#l290">code »</a></span></h3><p>Chooses a key packet for signing.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_e2e_openpgp_packet_SecretKey.html">e2e.openpgp.packet.SecretKey</a></code></dl></div></div></div></div><hr class="fn-sep"><div id="getUserIds" class="function"><div><h3>getUserIds()<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/block/transferablekey.js.src.html#l96">code »</a></span></h3><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;</code><dd><p>The User IDs for this key block.</p></dl></div></div></div></div><hr class="fn-sep"><div id="hasKeyById" class="function"><div><h3>hasKeyById(<wbr>keyId)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/block/transferablekey.js.src.html#l322">code »</a></span></h3><p>Checks if a key or one of the subkeys has a given key ID.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>keyId<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;</code><dd><p>Key ID to find the key by.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>If true, this TransferableKey has a key with given ID.</p></dl></div></div></div></div><hr class="fn-sep"><div id="keyPacketClass" class="function"><div><h3>keyPacketClass(<wbr>arg0, arg1, arg2, arg3)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/block/transferablekey.js.src.html#l66">code »</a></span></h3><p>The class of key packet to extract.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>arg0<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dt>arg1<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dt>arg2<code><a href="interface_e2e_cipher_Cipher.html">e2e.cipher.Cipher</a></code><dt>arg3<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;</code></dl></div></div></div></div><hr class="fn-sep"><div id="parse" class="function"><div><h3>parse(<wbr>packets)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/block/transferablekey.js.src.html#l102">code »</a></span></h3><p><b>Overrides: </b><a href="class_e2e_openpgp_block_Block.html#parse">e2e.openpgp.block.Block</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>packets<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="class_e2e_openpgp_packet_Packet.html">e2e.openpgp.packet.Packet</a>&gt;</code></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="class_e2e_openpgp_packet_Packet.html">e2e.openpgp.packet.Packet</a>&gt;</code></dl></div></div></div></div><hr class="fn-sep"><div id="processSignatures" class="function"><div><h3>processSignatures()<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/block/transferablekey.js.src.html#l202">code »</a></span></h3><p>Verify all certification, binding and revocation signatures present in  key block. This will remove all keys and User IDs with non-verifying or  missing signatures. Revoked keys and User IDs are also removed.  This method will throw an error if the resulting TransferableKey has no  user IDs or any signature has been tampered with.</p></div></div><hr class="fn-sep"><div id="serialize" class="function"><div><h3>serialize()<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/block/transferablekey.js.src.html#l328">code »</a></span></h3><p><b>Overrides: </b><a href="class_e2e_openpgp_block_Block.html#serialize">e2e.openpgp.block.Block</a></p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;</code></dl></div></div></div></div><hr class="fn-sep"><div id="toKeyObject" class="function"><div><h3>toKeyObject(<wbr>opt_dontSerialize)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/block/transferablekey.js.src.html#l343">code »</a></span></h3><p>Creates a Key object representing the TransferableKey.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>opt_dontSerialize<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>=</code><dd><p>if true, skip key serialization in  results.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>{key: {algorithm: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, fingerprint: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, fingerprintHex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, secret: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>}, serialized: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, subKeys: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;{algorithm: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, fingerprint: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, fingerprintHex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, secret: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>}&gt;, uids: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;}</code></dl></div></div></div></div><h2>Instance Properties</h2><div id="SERIALIZE_IN_KEY_OBJECT" class="property"><dl><dt><a href="source/src/javascript/crypto/e2e/openpgp/block/transferablekey.js.src.html#l298">SERIALIZE_IN_KEY_OBJECT</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>True if the key contains material that can be serialized in Key objects.</p></dl></div><div id="keyPacket" class="property"><dl><dt><a href="source/src/javascript/crypto/e2e/openpgp/block/transferablekey.js.src.html#l71">keyPacket</a><code><a href="class_e2e_openpgp_packet_Key.html">e2e.openpgp.packet.Key</a></code><dd><p>Main key, public or private, for this block.</p></dl></div><div id="subKeys" class="property"><dl><dt><a href="source/src/javascript/crypto/e2e/openpgp/block/transferablekey.js.src.html#l81">subKeys</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="class_e2e_openpgp_packet_Key.html">e2e.openpgp.packet.Key</a>&gt;</code><dd><p>List of subkeys on this block.</p></dl></div><div id="userAttributes" class="property"><dl><dt><a href="source/src/javascript/crypto/e2e/openpgp/block/transferablekey.js.src.html#l86">userAttributes</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="class_e2e_openpgp_packet_UserAttribute.html">e2e.openpgp.packet.UserAttribute</a>&gt;</code><dd><p>List of user attributes in this block.</p></dl></div><div id="userIds" class="property"><dl><dt><a href="source/src/javascript/crypto/e2e/openpgp/block/transferablekey.js.src.html#l76">userIds</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="class_e2e_openpgp_packet_UserId.html">e2e.openpgp.packet.UserId</a>&gt;</code><dd><p>List of user IDs in this block.</p></dl></div></article><nav><h3><a href="index.html">Overview</a></h3><div><input type="checkbox" id="nav-types" checked/><label for="nav-types"><h3><span class="selectable">Types</span></h3></label><div id="nav-types-view"></div></div></nav></main><div class="pre-footer"><div></div></div><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer><script src="types.js"></script><script src="dossier.js"></script>