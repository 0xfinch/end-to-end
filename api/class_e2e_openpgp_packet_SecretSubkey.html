<!DOCTYPE html><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>SecretSubkey</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><div><form><div><input type="search" placeholder="Search" tabindex="1"></div></form></div></header><main><article><div class="parentlink"><b>Namespace:</b> <a href="namespace_e2e_openpgp_packet.html">e2e.openpgp.packet</a></div><div class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/packet/secretsubkey.js.src.html#l41">View Source</a></div><h1>class SecretSubkey</h1><pre class="inheritance"><a href="class_e2e_openpgp_packet_Packet.html">e2e.openpgp.packet.Packet</a>
  &#x2514; <a href="class_e2e_openpgp_packet_Key.html">e2e.openpgp.packet.Key</a>
      &#x2514; <a href="class_e2e_openpgp_packet_SecretKey.html">e2e.openpgp.packet.SecretKey</a>
          &#x2514; e2e.openpgp.packet.SecretSubkey</pre><dl><dt>All implemented interfaces<dd><code><a href="interface_e2e_openpgp_packet_SecretKeyInterface.html">e2e.openpgp.packet.SecretKeyInterface</a></code></dl><p>A Secret Subkey Packet (Tag 7) RFC 4880 Section 5.5.1.4.</p>
<h3>new SecretSubkey(<wbr>version, timestamp, cipher, opt_fingerprint)</h3><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>version<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>The version of the key.</p>
<dt>timestamp<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>The creation time of the key.</p>
<dt>cipher<code><a href="class_e2e_openpgp_EncryptedCipher.html">e2e.openpgp.EncryptedCipher</a></code><dd><p>The encrypted cipher.</p>
<dt>opt_fingerprint<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;=</code><dd><p>The fingerprint of the
key.</p>
</dl></div></div><h2>Instance Methods</h2><div id="addBindingSignature" class="function"><div><h3>addBindingSignature(<wbr>signature)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/packet/key.js.src.html#l156">code »</a></span></h3><p>Adds the key binding signature. Only possible for subkeys.
Caution! Signature is not verified, use verifySignatures() function to verify
the signature.</p>
<p><b>Defined by: </b><a href="class_e2e_openpgp_packet_Key.html#addBindingSignature">e2e.openpgp.packet.Key</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>signature<code><a href="class_e2e_openpgp_packet_Signature.html">e2e.openpgp.packet.Signature</a></code></dl></div></div></div></div><hr class="fn-sep"><div id="addRevocation" class="function"><div><h3>addRevocation(<wbr>signature)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/packet/key.js.src.html#l289">code »</a></span></h3><p>Adds the key/subkey revocation signature.
Caution! Signature is not verified, use verifySignatures() function to verify
the signature.</p>
<p><b>Defined by: </b><a href="class_e2e_openpgp_packet_Key.html#addRevocation">e2e.openpgp.packet.Key</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>signature<code><a href="class_e2e_openpgp_packet_Signature.html">e2e.openpgp.packet.Signature</a></code><dd><p>Revocation signature</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="bindTo" class="function"><div><h3>bindTo(<wbr>bindingKey, type, opt_keyFlags)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/packet/key.js.src.html#l428">code »</a></span></h3><p>Creates and attaches a SubKey Binding Signature, issued by the specified key
packet.</p>
<p><b>Defined by: </b><a href="class_e2e_openpgp_packet_Key.html#bindTo">e2e.openpgp.packet.Key</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>bindingKey<code><a href="class_e2e_openpgp_packet_SecretKey.html">e2e.openpgp.packet.SecretKey</a></code><dt>type<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dt>opt_keyFlags<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>=</code><dd><p>key usage flags to embed in the signature</p>
</dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_e2e_async_Result.html">e2e.async.Result</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Undefined">undefined</a>&gt;</code></dl></div></div></div></div><hr class="fn-sep"><div id="can" class="function"><div><h3>can(<wbr>use)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/packet/key.js.src.html#l489">code »</a></span></h3><p>Specifies whether the key packet can be used for a specific use.
It only takes the cipher capabilities into consideration. In order to check
whether the key owner wants the key to be used in a certain way, call
isCertifiedTo().</p>
<p><b>Defined by: </b><a href="class_e2e_openpgp_packet_Key.html#can">e2e.openpgp.packet.Key</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>use<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Either &#39;sign&#39; or &#39;encrypt&#39;.</p>
</dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code></dl></div></div></div></div><hr class="fn-sep"><div id="getBytesToSign" class="function"><div><h3>getBytesToSign()<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/packet/key.js.src.html#l626">code »</a></span></h3><p>Gets a byte array representing the key data to create the signature over.
See RFC 4880 5.2.4 for details.</p>
<p><b>Defined by: </b><a href="class_e2e_openpgp_packet_Key.html#getBytesToSign">e2e.openpgp.packet.Key</a></p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;</code><dd><p>The serialization of the key packet.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="getCertifiedTime" class="function"><div><h3>getCertifiedTime(<wbr>verifyingKey)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/packet/key.js.src.html#l543">code »</a></span></h3><p>The timestamp of the (valid) binding signature for this subkey. If
the key was never certified (through verifySignatures()) this
method will throw an exception. The key to be passed in is the
toplevel key -- used as a check to ensure that the certified
signature was in fact issued by that key.</p>
<p><b>Defined by: </b><a href="class_e2e_openpgp_packet_Key.html#getCertifiedTime">e2e.openpgp.packet.Key</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>verifyingKey<code><a href="class_e2e_openpgp_packet_Key.html">e2e.openpgp.packet.Key</a></code><dd><p>is the main key that
originally certified this key.</p>
</dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>timestamp</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="getPublicKeyPacket" class="function"><div><h3>getPublicKeyPacket()<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/packet/secretsubkey.js.src.html#l60">code »</a></span></h3><p><b>Overrides: </b><a href="class_e2e_openpgp_packet_SecretKey.html#getPublicKeyPacket">e2e.openpgp.packet.SecretKey</a></p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_e2e_openpgp_packet_PublicKey.html">e2e.openpgp.packet.PublicKey</a></code></dl></div></div></div></div><hr class="fn-sep"><div id="isCertifiedTo" class="function"><div><h3>isCertifiedTo(<wbr>verifyingKey, use)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/packet/key.js.src.html#l513">code »</a></span></h3><p>Specifies whether the key packet has been certified for a specific use.
Can only ask this question of a subkey.
This information is obtained from the KEY_FLAGS property of
its certification signature. If the signature contains no KEY_FLAGS
at all, the subkey is considered to be certified for all uses.</p>
<p><b>Defined by: </b><a href="class_e2e_openpgp_packet_Key.html#isCertifiedTo">e2e.openpgp.packet.Key</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>verifyingKey<code><a href="class_e2e_openpgp_packet_Key.html">e2e.openpgp.packet.Key</a></code><dd><p>the main key that originally
certified this key.</p>
<dt>use<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Either &#39;sign&#39; or &#39;encrypt&#39;.</p>
</dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code></dl></div></div></div></div><hr class="fn-sep"><div id="serialize" class="function"><div><h3>serialize()<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/packet/key.js.src.html#l470">code »</a></span></h3><p>Serializes all packets by calling <a href="class_e2e_openpgp_packet_SecretSubkey.html#serializePacketBody"><code>#serializePacketBody</code></a> and appends
the length as a &#39;new format&#39; packet as defined in RFC 4880 Section 4.2.2.3.
We only support packets of up to 0xFFFFFFFF, longer packets will throw an
exception.</p>
<p><b>Defined by: </b><a href="class_e2e_openpgp_packet_Key.html#serialize">e2e.openpgp.packet.Key</a><br><b>Overrides: </b><a href="class_e2e_openpgp_packet_Packet.html#serialize">e2e.openpgp.packet.Packet</a></p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;</code><dd><p>The PGP RFC 4880 packet serialization.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="serializePacketBody" class="function"><div><h3>serializePacketBody()<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/packet/secretkey.js.src.html#l78">code »</a></span></h3><p>Serializer for this specific Packet.</p>
<p><b>Defined by: </b><a href="class_e2e_openpgp_packet_SecretKey.html#serializePacketBody">e2e.openpgp.packet.SecretKey</a><br><b>Overrides: </b><a href="class_e2e_openpgp_packet_Packet.html#serializePacketBody">e2e.openpgp.packet.Packet</a></p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;</code><dd><p>The ByteArray representation of this packet.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="toKeyPacketInfo" class="function"><div><h3>toKeyPacketInfo()<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/packet/key.js.src.html#l553">code »</a></span></h3><p>Converts a key packet to KeyPacketInfo.</p>
<p><b>Defined by: </b><a href="class_e2e_openpgp_packet_Key.html#toKeyPacketInfo">e2e.openpgp.packet.Key</a></p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>{algorithm: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, fingerprint: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, fingerprintHex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, secret: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>}</code></dl></div></div></div></div><hr class="fn-sep"><div id="verifySignatures" class="function"><div><h3>verifySignatures(<wbr>verifyingKey)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/packet/key.js.src.html#l195">code »</a></span></h3><p>Checks if a key has a valid (unrevoked) binding signature to a given
key packet. The provided key must be the top-level key if this is a
subkey, otherwise it must be the key itself. This function will
throw SignatureError if any signature verification fails.</p>
<p><b>Defined by: </b><a href="class_e2e_openpgp_packet_Key.html#verifySignatures">e2e.openpgp.packet.Key</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>verifyingKey<code><a href="class_e2e_openpgp_packet_Key.html">e2e.openpgp.packet.Key</a></code><dd><p>key packet that should
verify the signatures</p>
</dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>True if key has valid binding.</p>
</dl></div></div></div></div><h2>Instance Properties</h2><div id="cipher" class="property"><dl><dt><a href="source/src/javascript/crypto/e2e/openpgp/packet/secretkey.js.src.html#l74">cipher</a><code><a href="class_e2e_openpgp_EncryptedCipher.html">e2e.openpgp.EncryptedCipher</a></code><dd><p>The secret key packets use encrypted ciphers rather than ciphers.</p>
</dl></div><div id="fingerprint" class="property"><dl><dt><a href="source/src/javascript/crypto/e2e/openpgp/packet/key.js.src.html#l89">fingerprint</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;</code><dd><p>The fingerprint of the key.</p>
</dl></div><div id="isSubkey" class="property"><dl><dt><a href="source/src/javascript/crypto/e2e/openpgp/packet/key.js.src.html#l147">isSubkey</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>True iff key is a subkey. Used to implement common key logic in this class
without introducing circular dependencies.</p>
</dl></div><div id="keyId" class="property"><dl><dt><a href="source/src/javascript/crypto/e2e/openpgp/packet/secretkeyinterface.js.src.html#l32">keyId</a><code>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Undefined">undefined</a>)</code><dd><p>If available, the key ID of the key.</p>
</dl></div><div id="tag" class="property"><dl><dt><a href="source/src/javascript/crypto/e2e/openpgp/packet/packet.js.src.html#l57">tag</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>Tag of the packet (the tag specifies what type of packet it is).</p>
</dl></div><div id="timestamp" class="property"><dl><dt><a href="source/src/javascript/crypto/e2e/openpgp/packet/key.js.src.html#l104">timestamp</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>The timestamp of the creation of this public key.</p>
</dl></div><div id="version" class="property"><dl><dt><a href="source/src/javascript/crypto/e2e/openpgp/packet/key.js.src.html#l77">version</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>The version of the key.</p>
</dl></div><h2>Static Functions</h2><div id="SecretSubkey.parse" class="function"><div><h3>SecretSubkey.parse(<wbr>body)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/packet/secretsubkey.js.src.html#l72">code »</a></span></h3><p>Extracts a Secret Subkey Packet from the body, and returns a
SecretSubkey.</p>
<div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>body<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;</code><dd><p>The body from where to extract the data.</p>
</dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_e2e_openpgp_packet_SecretSubkey.html">e2e.openpgp.packet.SecretSubkey</a></code><dd><p>The generated subkey.</p>
</dl></div></div></div></div></article><nav><h3><a href="index.html" tabindex="2">Overview</a></h3><div><input type="checkbox" id="nav-types" checked/><label for="nav-types"><h3><span class="selectable" tabindex="2">Types</span></h3></label><div id="nav-types-view"></div></div></nav></main><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer><script src="types.js"></script><script src="dossier.js"></script>