<!DOCTYPE html><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>CallbacksMap</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><div><form><div><input type="search" placeholder="Search" tabindex="1"></div></form></div></header><main><article><div class="parentlink"><b>Namespace:</b> <a href="namespace_e2e_ext_utils.html">e2e.ext.utils</a></div><div class="codelink"><a href="source/src/javascript/crypto/e2e/extension/utils/callbacksmap.js.src.html#l36">View Source</a></div><h1>class CallbacksMap</h1><pre class="inheritance">goog.structs.Map&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, {callback: function(*): ?, errback: function(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error">Error</a>): ?}&gt;
  &#x2514; e2e.ext.utils.CallbacksMap</pre><p>A map to store callbacks and an errback to a given asynchronous request.</p>
<h3>new CallbacksMap()</h3><div><div class="fn-details"><div><b>Parameters</b></div><dl><dd>None.</dl></div></div><h2>Instance Methods</h2><div id="__iterator__" class="function"><div><h3>__iterator__(<wbr>opt_keys)<span class="codelink"><a href="source/lib/closure-library/closure/goog/structs/map.js.src.html#l423">code »</a></span></h3><p>Returns an iterator that iterates over the values or the keys in the map.
This throws an exception if the map was mutated since the iterator was
created.</p>
<p><b>Defined by: </b><a href="#__iterator__">goog.structs.Map</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>opt_keys<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>=</code><dd><p>True to iterate over the keys. False to iterate
over the values.  The default value is false.</p>
</dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>goog.iter.Iterator</code><dd><p>An iterator over the values or keys in the map.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="addAll" class="function"><div><h3>addAll(<wbr>map)<span class="codelink"><a href="source/lib/closure-library/closure/goog/structs/map.js.src.html#l318">code »</a></span></h3><p>Adds multiple key-value pairs from another goog.structs.Map or Object.</p>
<p><b>Defined by: </b><a href="#addAll">goog.structs.Map</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>map<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code><dd><p>Object containing the data to add.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="addCallbacks" class="function"><div><h3>addCallbacks(<wbr>callback, errback)<span class="codelink"><a href="source/src/javascript/crypto/e2e/extension/utils/callbacksmap.js.src.html#l48">code »</a></span></h3><p>Inserts a pair of callbacks into the map under a new unique key.</p>
<div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>callback<code>function(...?): ?</code><dd><p>The callback function.</p>
<dt>errback<code>function(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error">Error</a>): ?</code><dd><p>The function that will be called upon error.</p>
</dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The key under which the callback have been stored.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="clear" class="function"><div><h3>clear()<span class="codelink"><a href="source/lib/closure-library/closure/goog/structs/map.js.src.html#l206">code »</a></span></h3><p>Removes all key-value pairs from the map.</p>
<p><b>Defined by: </b><a href="#clear">goog.structs.Map</a></p></div></div><hr class="fn-sep"><div id="clone" class="function"><div><h3>clone()<span class="codelink"><a href="source/lib/closure-library/closure/goog/structs/map.js.src.html#l355">code »</a></span></h3><p>Clones a map and returns a new map.</p>
<p><b>Defined by: </b><a href="#clone">goog.structs.Map</a></p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>goog.structs.Map</code><dd><p>A new map with the same key-value pairs.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="containsKey" class="function"><div><h3>containsKey(<wbr>key)<span class="codelink"><a href="source/lib/closure-library/closure/goog/structs/map.js.src.html#l133">code »</a></span></h3><p>Whether the map contains the given key.</p>
<p><b>Defined by: </b><a href="#containsKey">goog.structs.Map</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>key<code>*</code><dd><p>The key to check for.</p>
</dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the map contains the key.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="containsValue" class="function"><div><h3>containsValue(<wbr>val)<span class="codelink"><a href="source/lib/closure-library/closure/goog/structs/map.js.src.html#l143">code »</a></span></h3><p>Whether the map contains the given value. This is O(n).</p>
<p><b>Defined by: </b><a href="#containsValue">goog.structs.Map</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>val<code>V</code><dd><p>The value to check for.</p>
</dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the map contains the value.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="equals" class="function"><div><h3>equals(<wbr>otherMap, opt_equalityFn)<span class="codelink"><a href="source/lib/closure-library/closure/goog/structs/map.js.src.html#l162">code »</a></span></h3><p>Whether this map is equal to the argument map.</p>
<p><b>Defined by: </b><a href="#equals">goog.structs.Map</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>otherMap<code>goog.structs.Map</code><dd><p>The map against which to test equality.</p>
<dt>opt_equalityFn<code>function(V, V): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>=</code><dd><p>Optional equality function
to test equality of values. If not specified, this will test whether
the values contained in each map are identical objects.</p>
</dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the maps are equal.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="forEach" class="function"><div><h3><code>&lt;T&gt;</code> forEach(<wbr>f, opt_obj)<span class="codelink"><a href="source/lib/closure-library/closure/goog/structs/map.js.src.html#l341">code »</a></span></h3><p>Calls the given function on each entry in the map.</p>
<p><b>Defined by: </b><a href="#forEach">goog.structs.Map</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>f<code>function(this: T, V, K, goog.structs.Map&lt;K, V&gt;): ?</code><dt>opt_obj<code>?T=</code><dd><p>The value of &#34;this&#34; inside f.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="get" class="function"><div><h3><code>&lt;DEFAULT&gt;</code> get(<wbr>key, opt_val)<span class="codelink"><a href="source/lib/closure-library/closure/goog/structs/map.js.src.html#l289">code »</a></span></h3><p>Returns the value for the given key.  If the key is not found and the default
value is not given this will return <code>undefined</code>.</p>
<p><b>Defined by: </b><a href="#get">goog.structs.Map</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>key<code>*</code><dd><p>The key to get the value for.</p>
<dt>opt_val<code>?DEFAULT=</code><dd><p>The value to return if no item is found for the
given key, defaults to undefined.</p>
</dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>(V|DEFAULT)</code><dd><p>The value for the given key.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="getAndRemove" class="function"><div><h3>getAndRemove(<wbr>key)<span class="codelink"><a href="source/src/javascript/crypto/e2e/extension/utils/callbacksmap.js.src.html#l65">code »</a></span></h3><p>Returns a callback pair, removing it from the map. Throws an error if a
key has no callbacks available.</p>
<div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>key<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>{callback: function(*): ?, errback: function(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error">Error</a>): ?}</code></dl></div></div></div></div><hr class="fn-sep"><div id="getCount" class="function"><div><h3>getCount()<span class="codelink"><a href="source/lib/closure-library/closure/goog/structs/map.js.src.html#l97">code »</a></span></h3><p><b>Defined by: </b><a href="#getCount">goog.structs.Map</a></p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>The number of key-value pairs in the map.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="getKeyIterator" class="function"><div><h3>getKeyIterator()<span class="codelink"><a href="source/lib/closure-library/closure/goog/structs/map.js.src.html#l400">code »</a></span></h3><p>Returns an iterator that iterates over the keys in the map.  Removal of keys
while iterating might have undesired side effects.</p>
<p><b>Defined by: </b><a href="#getKeyIterator">goog.structs.Map</a></p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>goog.iter.Iterator</code><dd><p>An iterator over the keys in the map.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="getKeys" class="function"><div><h3>getKeys()<span class="codelink"><a href="source/lib/closure-library/closure/goog/structs/map.js.src.html#l122">code »</a></span></h3><p>Returns the keys of the map.</p>
<p><b>Defined by: </b><a href="#getKeys">goog.structs.Map</a></p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;</code><dd><p>Array of string values.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="getValueIterator" class="function"><div><h3>getValueIterator()<span class="codelink"><a href="source/lib/closure-library/closure/goog/structs/map.js.src.html#l410">code »</a></span></h3><p>Returns an iterator that iterates over the values in the map.  Removal of
keys while iterating might have undesired side effects.</p>
<p><b>Defined by: </b><a href="#getValueIterator">goog.structs.Map</a></p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>goog.iter.Iterator</code><dd><p>An iterator over the values in the map.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="getValues" class="function"><div><h3>getValues()<span class="codelink"><a href="source/lib/closure-library/closure/goog/structs/map.js.src.html#l106">code »</a></span></h3><p>Returns the values of the map.</p>
<p><b>Defined by: </b><a href="#getValues">goog.structs.Map</a></p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;V&gt;</code><dd><p>The values in the map.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="isEmpty" class="function"><div><h3>isEmpty()<span class="codelink"><a href="source/lib/closure-library/closure/goog/structs/map.js.src.html#l198">code »</a></span></h3><p><b>Defined by: </b><a href="#isEmpty">goog.structs.Map</a></p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the map is empty.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="remove" class="function"><div><h3>remove(<wbr>key)<span class="codelink"><a href="source/lib/closure-library/closure/goog/structs/map.js.src.html#l221">code »</a></span></h3><p>Removes a key-value pair based on the key. This is O(logN) amortized due to
updating the keys array whenever the count becomes half the size of the keys
in the keys array.</p>
<p><b>Defined by: </b><a href="#remove">goog.structs.Map</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>key<code>*</code><dd><p>The key to remove.</p>
</dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether object was removed.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="set" class="function"><div><h3>set(<wbr>key, value)<span class="codelink"><a href="source/lib/closure-library/closure/goog/structs/map.js.src.html#l303">code »</a></span></h3><p>Adds a key-value pair to the map.</p>
<p><b>Defined by: </b><a href="#set">goog.structs.Map</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>key<code>*</code><dd><p>The key.</p>
<dt>value<code>V</code><dd><p>The value to add.</p>
</dl></div><div class="fn-details"><div><b>Returns</b></div><p>Some subclasses return a value.</p>
</div></div></div></div><hr class="fn-sep"><div id="toObject" class="function"><div><h3>toObject()<span class="codelink"><a href="source/lib/closure-library/closure/goog/structs/map.js.src.html#l384">code »</a></span></h3><p><b>Defined by: </b><a href="#toObject">goog.structs.Map</a></p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code><dd><p>Object representation of the map.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="transpose" class="function"><div><h3>transpose()<span class="codelink"><a href="source/lib/closure-library/closure/goog/structs/map.js.src.html#l369">code »</a></span></h3><p>Returns a new map in which all the keys and values are interchanged
(keys become values and values become keys). If multiple keys map to the
same value, the chosen transposed value is implementation-dependent.</p>
<p>It acts very similarly to {goog.object.transpose(Object)}.</p>
<p><b>Defined by: </b><a href="#transpose">goog.structs.Map</a></p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>goog.structs.Map</code><dd><p>The transposed map.</p>
</dl></div></div></div></div></article><nav><h3><a href="index.html" tabindex="2">Overview</a></h3><div><input type="checkbox" id="nav-types" checked/><label for="nav-types"><h3><span class="selectable" tabindex="2">Types</span></h3></label><div id="nav-types-view"></div></div></nav></main><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer><script src="types.js"></script><script src="dossier.js"></script>