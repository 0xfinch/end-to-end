<!DOCTYPE html><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>SimpleKeyManager</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><div><form><div><input type="search" placeholder="Search" tabindex="1"></div></form></div></header><main><article><div class="parentlink"><b>Namespace:</b> <a href="namespace_e2e_openpgp.html">e2e.openpgp</a></div><div class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/simplekeymanager.js.src.html#l38">View Source</a></div><h1>class SimpleKeyManager</h1><dl><dt>All implemented interfaces<dd><code><a href="interface_e2e_openpgp_KeyManager.html">e2e.openpgp.KeyManager</a></code></dl><p>Implements a simple <code>KeyManager</code>.
This KeyManager uses a single object as a <code>SecretKeyProvier</code> and
<code>PublicKeyProvider</code>.</p>
<h3>new SimpleKeyManager(<wbr>dualKeyProvider)</h3><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>dualKeyProvider<code><a href="interface_e2e_openpgp_SecretKeyProvider.html">e2e.openpgp.SecretKeyProvider</a></code><dd><p>Object to use as both
a public, and a secret key provider.</p>
</dl></div></div><h2>Instance Methods</h2><div id="decrypt" class="function"><div><h3>decrypt(<wbr>key, keyId, algorithm, ciphertext)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/simplekeymanager.js.src.html#l179">code »</a></span></h3><p>Decrypts a ciphertext with an unlocked secret key.</p>
<p><b>Specified by: </b><a href="interface_e2e_openpgp_KeyManager.html#decrypt">e2e.openpgp.KeyManager</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>key<code>{decryptionAlgorithm: ?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, decryptionKeyId: <a href="namespace_e2e_openpgp.html#openpgp.KeyId">e2e.openpgp.KeyId</a>, key: {algorithm: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, fingerprint: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, fingerprintHex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, secret: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>}, providerId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, serialized: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, signAlgorithm: <a href="enum_e2e_signer_Algorithm.html">e2e.signer.Algorithm</a>, signHashAlgorithm: ?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, signingKeyId: <a href="namespace_e2e_openpgp.html#openpgp.KeyId">e2e.openpgp.KeyId</a>, subKeys: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;{algorithm: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, fingerprint: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, fingerprintHex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, secret: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>}&gt;, uids: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;}</code><dd><p>The unlocked key to decrypt with.</p>
<dt>keyId<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;</code><dd><p>Key ID hint for choosing the right key
packet.</p>
<dt>algorithm<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The declared algorithm to use
(on algorithm mismatch, an error will be thrown).</p>
<dt>ciphertext<code>(<a href="namespace_e2e.html#e2e.ByteArray">e2e.ByteArray</a>|{u: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, v: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;}|{c: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;}|<a href="class_e2e_async_Result.html">e2e.async.Result</a>)</code><dd><p>The ciphertext.</p>
</dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>goog.Thenable</code><dd><p>The decrypted data.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="exportKeyring" class="function"><div><h3>exportKeyring(<wbr>keyringType, exportOptions)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/simplekeymanager.js.src.html#l132">code »</a></span></h3><p>Exports the keyring.</p>
<p><b>Specified by: </b><a href="interface_e2e_openpgp_KeyManager.html#exportKeyring">e2e.openpgp.KeyManager</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>keyringType<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The type of the keyring.</p>
<dt>exportOptions<code>*</code><dd><p>The chosen
export options.</p>
</dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>goog.Thenable</code><dd><p>The exported keyring.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="generateKeyPair" class="function"><div><h3>generateKeyPair(<wbr>userId, generateOptions)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/simplekeymanager.js.src.html#l118">code »</a></span></h3><p>Generates a keypair. The returned keys are implicitly trusted for appropriate
purposes.</p>
<p><b>Specified by: </b><a href="interface_e2e_openpgp_KeyManager.html#generateKeyPair">e2e.openpgp.KeyManager</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>userId<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>User ID for the generated keys.</p>
<dt>generateOptions<code>{options: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>, providerId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>}</code><dd><p>Key generation
options.</p>
</dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>goog.Thenable</code><dd><p>The generated keypair.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="getAllKeyGenerateOptions" class="function"><div><h3>getAllKeyGenerateOptions()<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/simplekeymanager.js.src.html#l112">code »</a></span></h3><p>Returns all possible key generation options supported by KeyManager.</p>
<p><b>Specified by: </b><a href="interface_e2e_openpgp_KeyManager.html#getAllKeyGenerateOptions">e2e.openpgp.KeyManager</a></p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>goog.Thenable</code><dd><p>Available
key generation options.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="getAllKeys" class="function"><div><h3>getAllKeys(<wbr>keyringType, opt_providerId)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/simplekeymanager.js.src.html#l92">code »</a></span></h3><p>Returns all secret/public keys.</p>
<p><b>Specified by: </b><a href="interface_e2e_openpgp_KeyManager.html#getAllKeys">e2e.openpgp.KeyManager</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>keyringType<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dt>opt_providerId<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>=</code><dd><p>If passed, only return the
keys from this KeyProvider.</p>
</dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>goog.Thenable&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;{decryptionAlgorithm: ?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, decryptionKeyId: <a href="namespace_e2e_openpgp.html#openpgp.KeyId">e2e.openpgp.KeyId</a>, key: {algorithm: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, fingerprint: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, fingerprintHex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, secret: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>}, providerId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, serialized: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, signAlgorithm: <a href="enum_e2e_signer_Algorithm.html">e2e.signer.Algorithm</a>, signHashAlgorithm: ?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, signingKeyId: <a href="namespace_e2e_openpgp.html#openpgp.KeyId">e2e.openpgp.KeyId</a>, subKeys: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;{algorithm: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, fingerprint: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, fingerprintHex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, secret: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>}&gt;, uids: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;}&gt;&gt;</code><dd><p>The resulting keys, potentially untrusted.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="getAllKeysByEmail" class="function"><div><h3>getAllKeysByEmail(<wbr>email)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/simplekeymanager.js.src.html#l99">code »</a></span></h3><p>Returns all public and secret keys with User ID pointing to a given e-mail
address from the keyring. Use this to simplify key management when keys are
indexed by e-mail address (e.g. in contact list). Returned keys may be
untrusted.</p>
<p><b>Specified by: </b><a href="interface_e2e_openpgp_KeyManager.html#getAllKeysByEmail">e2e.openpgp.KeyManager</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>email<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The email address.</p>
</dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>goog.Thenable&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;{decryptionAlgorithm: ?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, decryptionKeyId: <a href="namespace_e2e_openpgp.html#openpgp.KeyId">e2e.openpgp.KeyId</a>, key: {algorithm: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, fingerprint: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, fingerprintHex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, secret: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>}, providerId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, serialized: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, signAlgorithm: <a href="enum_e2e_signer_Algorithm.html">e2e.signer.Algorithm</a>, signHashAlgorithm: ?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, signingKeyId: <a href="namespace_e2e_openpgp.html#openpgp.KeyId">e2e.openpgp.KeyId</a>, subKeys: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;{algorithm: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, fingerprint: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, fingerprintHex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, secret: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>}&gt;, uids: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;}&gt;&gt;</code><dd><p>The resulting keys, potentially untrusted.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="getKeyByFingerprint" class="function"><div><h3>getKeyByFingerprint(<wbr>fingerprint, opt_providerId)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/simplekeymanager.js.src.html#l105">code »</a></span></h3><p>Returns a single key that has a matching OpenPGP fingerprint.</p>
<p><b>Specified by: </b><a href="interface_e2e_openpgp_KeyManager.html#getKeyByFingerprint">e2e.openpgp.KeyManager</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>fingerprint<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;</code><dd><p>The key fingerprint</p>
<dt>opt_providerId<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>=</code><dd><p>If passed, only return the
keys from this KeyProvider.</p>
</dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>goog.Thenable&lt;?{decryptionAlgorithm: ?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, decryptionKeyId: <a href="namespace_e2e_openpgp.html#openpgp.KeyId">e2e.openpgp.KeyId</a>, key: {algorithm: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, fingerprint: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, fingerprintHex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, secret: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>}, providerId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, serialized: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, signAlgorithm: <a href="enum_e2e_signer_Algorithm.html">e2e.signer.Algorithm</a>, signHashAlgorithm: ?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, signingKeyId: <a href="namespace_e2e_openpgp.html#openpgp.KeyId">e2e.openpgp.KeyId</a>, subKeys: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;{algorithm: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, fingerprint: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, fingerprintHex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, secret: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>}&gt;, uids: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;}&gt;</code><dd><p>The resulting key, potentially
untrusted.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="getKeyProviderIds" class="function"><div><h3>getKeyProviderIds()<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/simplekeymanager.js.src.html#l59">code »</a></span></h3><p>Returns IDs of all supported KeyProviders.</p>
<p><b>Specified by: </b><a href="interface_e2e_openpgp_KeyManager.html#getKeyProviderIds">e2e.openpgp.KeyManager</a></p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>goog.Thenable</code><dd><p>Supported key
provider IDs.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="getKeyProvidersState" class="function"><div><h3>getKeyProvidersState()<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/simplekeymanager.js.src.html#l208">code »</a></span></h3><p>Returns the current state of all supported Key Providers.</p>
<p><b>Specified by: </b><a href="interface_e2e_openpgp_KeyManager.html#getKeyProvidersState">e2e.openpgp.KeyManager</a></p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>goog.Thenable</code><dd><p>The state of all key providers.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="getKeyringExportOptions" class="function"><div><h3>getKeyringExportOptions(<wbr>keyringType)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/simplekeymanager.js.src.html#l125">code »</a></span></h3><p>Returns the available keyring export options.</p>
<p><b>Specified by: </b><a href="interface_e2e_openpgp_KeyManager.html#getKeyringExportOptions">e2e.openpgp.KeyManager</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>keyringType<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The type of the keyring.</p>
</dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>goog.Thenable</code><dd><p>The
available export options.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="getKeysByKeyId" class="function"><div><h3>getKeysByKeyId(<wbr>purpose, id)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/simplekeymanager.js.src.html#l74">code »</a></span></h3><p>Returns keys for a given purpose that match a given OpenPGP Key ID. If a
wildcard key ID is passed, return all keys for that purpose.</p>
<p><b>Specified by: </b><a href="interface_e2e_openpgp_KeyManager.html#getKeysByKeyId">e2e.openpgp.KeyManager</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>purpose<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The purpose of the key. Only
verification and decryption purpose should be accepted.</p>
<dt>id<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;</code><dd><p>The key ID.</p>
</dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>goog.Thenable&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;{decryptionAlgorithm: ?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, decryptionKeyId: <a href="namespace_e2e_openpgp.html#openpgp.KeyId">e2e.openpgp.KeyId</a>, key: {algorithm: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, fingerprint: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, fingerprintHex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, secret: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>}, providerId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, serialized: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, signAlgorithm: <a href="enum_e2e_signer_Algorithm.html">e2e.signer.Algorithm</a>, signHashAlgorithm: ?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, signingKeyId: <a href="namespace_e2e_openpgp.html#openpgp.KeyId">e2e.openpgp.KeyId</a>, subKeys: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;{algorithm: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, fingerprint: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, fingerprintHex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, secret: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>}&gt;, uids: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;}&gt;&gt;</code><dd><p>The resulting keys, potentially untrusted.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="getTrustedKeys" class="function"><div><h3>getTrustedKeys(<wbr>purpose, email)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/simplekeymanager.js.src.html#l67">code »</a></span></h3><p>Returns trusted keys for a given purpose for a user with given e-mail
address. Use this to fetch the keys to use with
<code>Context2#verifyDecrypt</code> and <code>Context2#encryptSign</code>.</p>
<p><b>Specified by: </b><a href="interface_e2e_openpgp_KeyManager.html#getTrustedKeys">e2e.openpgp.KeyManager</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>purpose<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The purpose of the key.</p>
<dt>email<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The email address.</p>
</dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>goog.Thenable&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;{decryptionAlgorithm: ?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, decryptionKeyId: <a href="namespace_e2e_openpgp.html#openpgp.KeyId">e2e.openpgp.KeyId</a>, key: {algorithm: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, fingerprint: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, fingerprintHex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, secret: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>}, providerId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, serialized: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, signAlgorithm: <a href="enum_e2e_signer_Algorithm.html">e2e.signer.Algorithm</a>, signHashAlgorithm: ?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, signingKeyId: <a href="namespace_e2e_openpgp.html#openpgp.KeyId">e2e.openpgp.KeyId</a>, subKeys: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;{algorithm: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, fingerprint: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, fingerprintHex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, secret: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>}&gt;, uids: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;}&gt;&gt;</code><dd><p>The resulting trusted keys.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="importKeys" class="function"><div><h3>importKeys(<wbr>keySerialization, passphraseCallback)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/simplekeymanager.js.src.html#l159">code »</a></span></h3><p>Imports a binary-encoded OpenPGP key(s) into the Context.
All keys from the serialization will be processed.</p>
<p><b>Specified by: </b><a href="interface_e2e_openpgp_KeyManager.html#importKeys">e2e.openpgp.KeyManager</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>keySerialization<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;</code><dd><p>The key(s) to import.</p>
<dt>passphraseCallback<code>function(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): goog.Thenable&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;</code><dd><p>This
callback is used for requesting an action-specific passphrase from the
user (if the key material is encrypted to a passprase).</p>
</dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>goog.Thenable&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;{decryptionAlgorithm: ?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, decryptionKeyId: <a href="namespace_e2e_openpgp.html#openpgp.KeyId">e2e.openpgp.KeyId</a>, key: {algorithm: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, fingerprint: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, fingerprintHex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, secret: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>}, providerId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, serialized: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, signAlgorithm: <a href="enum_e2e_signer_Algorithm.html">e2e.signer.Algorithm</a>, signHashAlgorithm: ?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, signingKeyId: <a href="namespace_e2e_openpgp.html#openpgp.KeyId">e2e.openpgp.KeyId</a>, subKeys: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;{algorithm: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, fingerprint: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, fingerprintHex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, secret: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>}&gt;, uids: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;}&gt;&gt;</code><dd><p>List of keys that were successfully
imported.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="initializeKeyProviders" class="function"><div><h3>initializeKeyProviders(<wbr>config)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/simplekeymanager.js.src.html#l186">code »</a></span></h3><p>Initializes all the key providers.</p>
<p><b>Specified by: </b><a href="interface_e2e_openpgp_KeyManager.html#initializeKeyProviders">e2e.openpgp.KeyManager</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>config<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, *&gt;</code><dd><p>Configuration for the key
providers.</p>
</dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>goog.Thenable</code><dd><p>The state of the key providers, after
initialization.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="reconfigureKeyProvider" class="function"><div><h3>reconfigureKeyProvider(<wbr>providerId, newConfig)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/simplekeymanager.js.src.html#l196">code »</a></span></h3><p>Reinitializes the individual Key Provider with different configuration data.
Use this function when some provider-specific configuration needs to be
changed at runtime (e.g. when the user requests to change the passphrase of
the provider&#39;s storage).</p>
<p><b>Specified by: </b><a href="interface_e2e_openpgp_KeyManager.html#reconfigureKeyProvider">e2e.openpgp.KeyManager</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>providerId<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Provider to change the state
of.</p>
<dt>newConfig<code>*</code><dd><p>The new
initialization data.</p>
</dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>goog.Thenable</code></dl></div></div></div></div><hr class="fn-sep"><div id="removeKeys" class="function"><div><h3>removeKeys(<wbr>keys)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/simplekeymanager.js.src.html#l166">code »</a></span></h3><p>Removes keys from the KeyProviders.</p>
<p><b>Specified by: </b><a href="interface_e2e_openpgp_KeyManager.html#removeKeys">e2e.openpgp.KeyManager</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>keys<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;{decryptionAlgorithm: ?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, decryptionKeyId: <a href="namespace_e2e_openpgp.html#openpgp.KeyId">e2e.openpgp.KeyId</a>, key: {algorithm: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, fingerprint: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, fingerprintHex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, secret: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>}, providerId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, serialized: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, signAlgorithm: <a href="enum_e2e_signer_Algorithm.html">e2e.signer.Algorithm</a>, signHashAlgorithm: ?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, signingKeyId: <a href="namespace_e2e_openpgp.html#openpgp.KeyId">e2e.openpgp.KeyId</a>, subKeys: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;{algorithm: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, fingerprint: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, fingerprintHex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, secret: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>}&gt;, uids: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;}&gt;</code></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>goog.Thenable</code></dl></div></div></div></div><hr class="fn-sep"><div id="setProviderCredentials" class="function"><div><h3>setProviderCredentials(<wbr>providerId, credentials)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/simplekeymanager.js.src.html#l139">code »</a></span></h3><p>Sets the credentials to use by a given KeyProvider in future calls.</p>
<p><b>Specified by: </b><a href="interface_e2e_openpgp_KeyManager.html#setProviderCredentials">e2e.openpgp.KeyManager</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>providerId<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Key provider ID.</p>
<dt>credentials<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code><dd><p>The credentials.</p>
</dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>goog.Thenable</code></dl></div></div></div></div><hr class="fn-sep"><div id="sign" class="function"><div><h3>sign(<wbr>key, keyId, algorithm, hashAlgorithm, data)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/simplekeymanager.js.src.html#l172">code »</a></span></h3><p>Signs a message with an unlocked secret key.</p>
<p><b>Specified by: </b><a href="interface_e2e_openpgp_KeyManager.html#sign">e2e.openpgp.KeyManager</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>key<code>{decryptionAlgorithm: ?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, decryptionKeyId: <a href="namespace_e2e_openpgp.html#openpgp.KeyId">e2e.openpgp.KeyId</a>, key: {algorithm: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, fingerprint: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, fingerprintHex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, secret: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>}, providerId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, serialized: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, signAlgorithm: <a href="enum_e2e_signer_Algorithm.html">e2e.signer.Algorithm</a>, signHashAlgorithm: ?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, signingKeyId: <a href="namespace_e2e_openpgp.html#openpgp.KeyId">e2e.openpgp.KeyId</a>, subKeys: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;{algorithm: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, fingerprint: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, fingerprintHex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, secret: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>}&gt;, uids: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;}</code><dd><p>The unlocked key to sign with.</p>
<dt>keyId<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;</code><dd><p>Key ID hint for choosing the right key
packet.</p>
<dt>algorithm<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The declared algorithm to use
(on algorithm mismatch, an error will be thrown).</p>
<dt>hashAlgorithm<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The declared hash algorithm to
use (on algorithm mismatch, an error will be thrown).</p>
<dt>data<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;</code><dd><p>The data to sign.</p>
</dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>goog.Thenable</code><dd><p>The signature.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="trustKeys" class="function"><div><h3>trustKeys(<wbr>keys, email, purpose, opt_trustData)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/simplekeymanager.js.src.html#l146">code »</a></span></h3><p>Marks the key(s) as trusted for a given email address. These keys will be
then returned in getKeys() calls for that user and the selected purpose(s).
Other keys for that email address are implicitly marked as not trusted.
The policy for trusting the keys is implemented in the KeyManager of the
application.
Calling this method might cause UI interaction that lets the KeyProvider
manage the trusting process for the keys (e.g. entering a PIN code,
confirming an action).
The application may optionally pass additional data consumed by the
KeyManager / KeyProvider that contain parameters for trusting keys.</p>
<p><b>Specified by: </b><a href="interface_e2e_openpgp_KeyManager.html#trustKeys">e2e.openpgp.KeyManager</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>keys<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;{decryptionAlgorithm: ?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, decryptionKeyId: <a href="namespace_e2e_openpgp.html#openpgp.KeyId">e2e.openpgp.KeyId</a>, key: {algorithm: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, fingerprint: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, fingerprintHex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, secret: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>}, providerId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, serialized: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, signAlgorithm: <a href="enum_e2e_signer_Algorithm.html">e2e.signer.Algorithm</a>, signHashAlgorithm: ?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, signingKeyId: <a href="namespace_e2e_openpgp.html#openpgp.KeyId">e2e.openpgp.KeyId</a>, subKeys: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;{algorithm: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, fingerprint: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, fingerprintHex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, secret: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>}&gt;, uids: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;}&gt;</code><dd><p>The keys to trust.</p>
<dt>email<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The Email address.</p>
<dt>purpose<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The purpose for which
to trust the keys. Invalid purpose for a given key will be ignored.</p>
<dt>opt_trustData<code>?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>=</code><dd><p>Extra key trust data
containing information for the KeyManager/KeyProviders.</p>
</dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>goog.Thenable&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;{decryptionAlgorithm: ?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, decryptionKeyId: <a href="namespace_e2e_openpgp.html#openpgp.KeyId">e2e.openpgp.KeyId</a>, key: {algorithm: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, fingerprint: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, fingerprintHex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, secret: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>}, providerId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, serialized: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, signAlgorithm: <a href="enum_e2e_signer_Algorithm.html">e2e.signer.Algorithm</a>, signHashAlgorithm: ?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, signingKeyId: <a href="namespace_e2e_openpgp.html#openpgp.KeyId">e2e.openpgp.KeyId</a>, subKeys: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;{algorithm: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, fingerprint: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, fingerprintHex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, secret: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>}&gt;, uids: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;}&gt;&gt;</code><dd><p>The keys.</p>
</dl></div></div></div></div><hr class="fn-sep"><div id="unlockKey" class="function"><div><h3>unlockKey(<wbr>key, unlockData)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/simplekeymanager.js.src.html#l153">code »</a></span></h3><p>Tries to unlock a given key. Noop if the key is already unlocked.
Calling this method might cause UI interaction from the KeyProvider.
Necessary data for interacting with the user (e.g. MessagePorts,
callback functions) should be passed in unlockData.</p>
<p><b>Specified by: </b><a href="interface_e2e_openpgp_KeyManager.html#unlockKey">e2e.openpgp.KeyManager</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>key<code>{decryptionAlgorithm: ?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, decryptionKeyId: <a href="namespace_e2e_openpgp.html#openpgp.KeyId">e2e.openpgp.KeyId</a>, key: {algorithm: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, fingerprint: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, fingerprintHex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, secret: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>}, providerId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, serialized: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, signAlgorithm: <a href="enum_e2e_signer_Algorithm.html">e2e.signer.Algorithm</a>, signHashAlgorithm: ?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, signingKeyId: <a href="namespace_e2e_openpgp.html#openpgp.KeyId">e2e.openpgp.KeyId</a>, subKeys: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;{algorithm: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, fingerprint: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, fingerprintHex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, secret: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>}&gt;, uids: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;}</code><dd><p>The key to unlock</p>
<dt>unlockData<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code><dd><p>The key unlock data.</p>
</dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>goog.Thenable&lt;?{decryptionAlgorithm: ?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, decryptionKeyId: <a href="namespace_e2e_openpgp.html#openpgp.KeyId">e2e.openpgp.KeyId</a>, key: {algorithm: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, fingerprint: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, fingerprintHex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, secret: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>}, providerId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, serialized: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, signAlgorithm: <a href="enum_e2e_signer_Algorithm.html">e2e.signer.Algorithm</a>, signHashAlgorithm: ?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, signingKeyId: <a href="namespace_e2e_openpgp.html#openpgp.KeyId">e2e.openpgp.KeyId</a>, subKeys: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;{algorithm: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, fingerprint: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, fingerprintHex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, secret: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>}&gt;, uids: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;}&gt;</code><dd><p>The unlocked Key.</p>
</dl></div></div></div></div><h2>Static Functions</h2><div id="SimpleKeyManager.launch" class="function"><div><h3>SimpleKeyManager.launch(<wbr>keyProviderPromise)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/simplekeymanager.js.src.html#l51">code »</a></span></h3><p>Deferred constructor.</p>
<div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>keyProviderPromise<code>goog.Thenable&lt;<a href="interface_e2e_openpgp_SecretKeyProvider.html">e2e.openpgp.SecretKeyProvider</a>&gt;</code><dd><p>The promise of both a public, and a secret key provider.</p>
</dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>goog.Thenable&lt;<a href="class_e2e_openpgp_SimpleKeyManager.html">e2e.openpgp.SimpleKeyManager</a>&gt;</code><dd><p>The SimpleKeyManager
promise, fulfilled when the object has initialized.</p>
</dl></div></div></div></div></article><nav><h3><a href="index.html" tabindex="2">Overview</a></h3><div><input type="checkbox" id="nav-types" checked/><label for="nav-types"><h3><span class="selectable" tabindex="2">Types</span></h3></label><div id="nav-types-view"></div></div></nav></main><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer><script src="types.js"></script><script src="dossier.js"></script>