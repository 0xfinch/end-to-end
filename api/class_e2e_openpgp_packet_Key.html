<!DOCTYPE html><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Key</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><div><form><div><input type="search" placeholder="Search"></div></form></div></header><main><article><div class="parentlink"><b>Namespace:</b> <a href="namespace_e2e_openpgp_packet.html">e2e.openpgp.packet</a></div><div class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/packet/key.js.src.html#l70">View Source</a></div><h1>class Key</h1><pre class="inheritance"><a href="class_e2e_openpgp_packet_Packet.html">e2e.openpgp.packet.Packet</a>
  &#x2514; e2e.openpgp.packet.Key</pre><p>A Key Packet that is the parent of SecretKey and PublicKey.</p><h2 class="main">new Key(<wbr>version, timestamp, cipher, opt_fingerprint, opt_keyId)</h2><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>version<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>The version of the key. Should be 0x04.</p><dt>timestamp<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>The creation time of the key.</p><dt>cipher<code>(<a href="interface_e2e_cipher_Cipher.html">e2e.cipher.Cipher</a>|<a href="interface_e2e_signer_Signer.html">e2e.signer.Signer</a>)</code><dd><p>An  instance of the cipher used.</p><dt>opt_fingerprint<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;=</code><dd><p>The fingerprint of the  key.</p><dt>opt_keyId<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;=</code><dd><p>The key ID of the key. Should be  passed in for v3 keys, but not for v4 keys.</p></dl></div></div><h2>Instance Methods</h2><div id="addBindingSignature" class="function"><div><h3>addBindingSignature(<wbr>signature)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/packet/key.js.src.html#l156">code »</a></span></h3><p>Adds the key binding signature. Only possible for subkeys. Caution! Signature is not verified, use verifySignatures() function to verify the signature.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>signature<code><a href="class_e2e_openpgp_packet_Signature.html">e2e.openpgp.packet.Signature</a></code></dl></div></div></div></div><hr class="fn-sep"><div id="addRevocation" class="function"><div><h3>addRevocation(<wbr>signature)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/packet/key.js.src.html#l289">code »</a></span></h3><p>Adds the key/subkey revocation signature. Caution! Signature is not verified, use verifySignatures() function to verify the signature.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>signature<code><a href="class_e2e_openpgp_packet_Signature.html">e2e.openpgp.packet.Signature</a></code><dd><p>Revocation signature</p></dl></div></div></div></div><hr class="fn-sep"><div id="bindTo" class="function"><div><h3>bindTo(<wbr>bindingKey, type, opt_keyFlags)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/packet/key.js.src.html#l428">code »</a></span></h3><p>Creates and attaches a SubKey Binding Signature, issued by the specified key  packet.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>bindingKey<code><a href="class_e2e_openpgp_packet_SecretKey.html">e2e.openpgp.packet.SecretKey</a></code><dt>type<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dt>opt_keyFlags<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>=</code><dd><p>key usage flags to embed in the signature</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_e2e_async_Result.html">e2e.async.Result</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Undefined">undefined</a>&gt;</code></dl></div></div></div></div><hr class="fn-sep"><div id="can" class="function"><div><h3>can(<wbr>use)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/packet/key.js.src.html#l489">code »</a></span></h3><p>Specifies whether the key packet can be used for a specific use. It only takes the cipher capabilities into consideration. In order to check whether the key owner wants the key to be used in a certain way, call isCertifiedTo().</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>use<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Either &#39;sign&#39; or &#39;encrypt&#39;.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code></dl></div></div></div></div><hr class="fn-sep"><div id="getBytesToSign" class="function"><div><h3>getBytesToSign()<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/packet/key.js.src.html#l626">code »</a></span></h3><p>Gets a byte array representing the key data to create the signature over. See RFC 4880 5.2.4 for details.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;</code><dd><p>The serialization of the key packet.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getCertifiedTime" class="function"><div><h3>getCertifiedTime(<wbr>verifyingKey)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/packet/key.js.src.html#l543">code »</a></span></h3><p>The timestamp of the (valid) binding signature for this subkey. If the key was never certified (through verifySignatures()) this method will throw an exception. The key to be passed in is the toplevel key -- used as a check to ensure that the certified signature was in fact issued by that key.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>verifyingKey<code><a href="class_e2e_openpgp_packet_Key.html">e2e.openpgp.packet.Key</a></code><dd><p>is the main key that  originally certified this key.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>timestamp</p></dl></div></div></div></div><hr class="fn-sep"><div id="getPublicKeyPacket" class="function"><div><h3>getPublicKeyPacket()<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/packet/key.js.src.html#l139">code »</a></span></h3><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_e2e_openpgp_packet_PublicKey.html">e2e.openpgp.packet.PublicKey</a></code></dl></div></div></div></div><hr class="fn-sep"><div id="isCertifiedTo" class="function"><div><h3>isCertifiedTo(<wbr>verifyingKey, use)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/packet/key.js.src.html#l513">code »</a></span></h3><p>Specifies whether the key packet has been certified for a specific use. Can only ask this question of a subkey. This information is obtained from the KEY_FLAGS property of its certification signature. If the signature contains no KEY_FLAGS at all, the subkey is considered to be certified for all uses.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>verifyingKey<code><a href="class_e2e_openpgp_packet_Key.html">e2e.openpgp.packet.Key</a></code><dd><p>the main key that originally  certified this key.</p><dt>use<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Either &#39;sign&#39; or &#39;encrypt&#39;.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code></dl></div></div></div></div><hr class="fn-sep"><div id="serialize" class="function"><div><h3>serialize()<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/packet/key.js.src.html#l470">code »</a></span></h3><p><b>Overrides: </b><a href="class_e2e_openpgp_packet_Packet.html#serialize">e2e.openpgp.packet.Packet</a></p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;</code></dl></div></div></div></div><hr class="fn-sep"><div id="toKeyPacketInfo" class="function"><div><h3>toKeyPacketInfo()<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/packet/key.js.src.html#l553">code »</a></span></h3><p>Converts a key packet to KeyPacketInfo.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>{algorithm: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, fingerprint: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;, fingerprintHex: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, secret: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>}</code></dl></div></div></div></div><hr class="fn-sep"><div id="verifySignatures" class="function"><div><h3>verifySignatures(<wbr>verifyingKey)<span class="codelink"><a href="source/src/javascript/crypto/e2e/openpgp/packet/key.js.src.html#l195">code »</a></span></h3><p>Checks if a key has a valid (unrevoked) binding signature to a given key packet. The provided key must be the top-level key if this is a subkey, otherwise it must be the key itself. This function will throw SignatureError if any signature verification fails.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>verifyingKey<code><a href="class_e2e_openpgp_packet_Key.html">e2e.openpgp.packet.Key</a></code><dd><p>key packet that should  verify the signatures</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>True if key has valid binding.</p></dl></div></div></div></div><h2>Instance Properties</h2><div id="cipher" class="property"><dl><dt><a href="source/src/javascript/crypto/e2e/openpgp/packet/key.js.src.html#l109">cipher</a><code>(<a href="interface_e2e_cipher_Cipher.html">e2e.cipher.Cipher</a>|<a href="interface_e2e_signer_Signer.html">e2e.signer.Signer</a>)</code><dd><p>The cipher of this public key (RSA/DSA/etc..).</p></dl></div><div id="fingerprint" class="property"><dl><dt><a href="source/src/javascript/crypto/e2e/openpgp/packet/key.js.src.html#l89">fingerprint</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;</code><dd><p>The fingerprint of the key.</p></dl></div><div id="isSubkey" class="property"><dl><dt><a href="source/src/javascript/crypto/e2e/openpgp/packet/key.js.src.html#l147">isSubkey</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>True iff key is a subkey. Used to implement common key logic in this class without introducing circular dependencies.</p></dl></div><div id="keyId" class="property"><dl><dt><a href="source/src/javascript/crypto/e2e/openpgp/packet/key.js.src.html#l99">keyId</a><code>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Undefined">undefined</a>)</code><dd><p>If available, the key ID of the key.</p></dl></div><div id="timestamp" class="property"><dl><dt><a href="source/src/javascript/crypto/e2e/openpgp/packet/key.js.src.html#l104">timestamp</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>The timestamp of the creation of this public key.</p></dl></div><div id="version" class="property"><dl><dt><a href="source/src/javascript/crypto/e2e/openpgp/packet/key.js.src.html#l77">version</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>The version of the key.</p></dl></div><h2>Types</h2><dl><dt><a href="enum_e2e_openpgp_packet_Key_Usage.html">Key.Usage</a><dd><p>No description.</p></dl></article><nav><h3><a href="index.html">Overview</a></h3><div><input type="checkbox" id="nav-types" checked/><label for="nav-types"><h3><span class="selectable">Types</span></h3></label><div id="nav-types-view"></div></div></nav></main><div class="pre-footer"><div></div></div><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer><script src="types.js"></script><script src="dossier.js"></script>